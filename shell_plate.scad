/////////////////////////////////////////////////////////////////////
// 
// shell_plate.scad 
//
// This script generates a 3D printable model useful for performing
// dilutions of individual samples in standard 96-well microplate
// format using a multichannel pipetter.
//
// Print as a shell, without infill, top or bottom.
//
// (cc-by) 2013 Russell Neches
//
/////////////////////////////////////////////////////////////////////

$fn     = 20;

mmpi    = 25.4;
fiddle  = 0.01;
spacing = 9.0;
col_sp  = 11.000;
row_sp  = 16.000;

difference() {
    // chassis
    minkowski() {
        cube([5*mmpi,20,3.33*mmpi]);
        cylinder(r=5,h=fiddle);
    }
    // wells
    translate( [0,-7.5,0] ){
        for( i = [0:7] ) for( j = [0:11] ) {
            translate( [ row_sp + j*spacing, 0 , col_sp + i*spacing ] ) {
                hull() {
                    sphere( 4.8 );
                    translate( [0,2 + data[j][i]*13,0] ) sphere( 2 );
                }
            }
        }
    }
}

// random values to simulate actual data

data = [[   0.9207719175555169,
            0.5068920296218449,
            0.9513094008166749,
            0.21312255057408025,
            0.6299410714510139,
            0.5011019520492155,
            0.6591814599363114,
            0.9167832847818371      ],
        [   0.5855203430449701,
            0.9677499270468669,
            0.7725405859430222,
            0.5882063926146742,
            0.7505023125660152,
            0.5881438725085621,
            0.9296464940015097,
            0.10672427736498236     ],
        [   0.38017644559587127,
            0.12762602644998278,
            0.09463724223945102,
            0.19937887673756338,
            0.2843976394565446,
            0.35509333343063787,
            0.49048747621051725,
            0.6752053391179332      ],
        [   0.5616692322539993,
            0.3709350733314518,
            0.8902307001176077,
            0.6829079109560303,
            0.9362019661337995,
            0.3536581244227073,
            0.054749718748724585,
            0.08536672505908649     ],
        [   0.43537352575718713,
            0.3364138922653144,
            0.4937809201659069,
            0.6683754726336746,
            0.1922761130421924,
            0.07344601498246106,
            0.9188895236415231,
            0.5831025712475226      ],
        [   0.5752871422066655,
            0.258252087085607,
            0.2605627864722446,
            0.5318243064862859,
            0.21948372165089747,
            0.11387226896583524,
            0.9722570750105267,
            0.04977788447758835     ],
        [   0.3571289586430382,
            0.7079044191333752,
            0.8995804964361908,
            0.6422753232512676,
            0.949441228732628,
            0.7067272901203335,
            0.1673018527624376,
            0.6831725536390644      ],
        [   0.04785076666035215,
            0.9075598479712963,
            0.9225375049963243,
            0.9973698521202241,
            0.2195956623505545,
            0.15483629795572362,
            0.741357192393205,
            0.5528319626308458      ],
        [   0.14527113860092622,
            0.5746240184938177,
            0.6013464265052517,
            0.7131410316687571,
            0.11313483131402768,
            0.19162001950516439,
            0.8866225495534119,
            0.1151734141207168      ],
        [   0.526586307451095,
            0.9344266110640944,
            0.8020731629620701,
            0.016769931910790792,
            0.3838775211417337,
            0.8547011256064467,
            0.09043946540000969,
            0.01351848202729411     ],
        [   0.4087054278174035,
            0.13296028362042778,
            0.48662771762314516,
            0.34932387587308444,
            0.37035152222407763,
            0.2169620333380753,
            0.6566230263147133,
            0.9638255398756266      ],
        [   0.7115394966348594,
            0.41435741666790826,
            0.7145609014144,
            0.3232887590969937,
            0.5641967825784127,
            0.6004040694149412,
            0.5867251488786197,
            0.6141335037287331      ]];
